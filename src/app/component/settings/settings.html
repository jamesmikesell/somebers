<div class="settings-container overscroll">
  <h1 class="settings-title">Settings</h1>

  <section class="settings-section">
    <h2>Display Settings</h2>
    <div class="settings-option-group">
      <mat-card class="settings-option-card">
        <mat-card-content>
          <mat-slide-toggle
            [(ngModel)]="shapesModeEnabled"
            (change)="onShapesModeChange($event)"
          >
            Shapes Mode
          </mat-slide-toggle>
          <p class="settings-option-description">
            When enabled, color-coded groups display a unique shape in each
            cell, providing an alternative visual cue for players who may have
            difficulty distinguishing colors.
          </p>
        </mat-card-content>
      </mat-card>

      <mat-card class="settings-option-card">
        <mat-card-content>
          <mat-slide-toggle
            [(ngModel)]="rowAndColumnCurrentSelectionSumVisible"
            (change)="onRowAndColumnCurrentSelectionSumVisibleChange($event)"
          >
            Show Row / Column Current Sum
          </mat-slide-toggle>
          <p class="settings-option-description">
            Controls whether row and column headers display the current sum of
            selected cells in their upper-right corner.
          </p>
        </mat-card-content>
      </mat-card>

      <mat-card class="settings-option-card">
        <mat-card-content>
          <mat-slide-toggle
            [(ngModel)]="colorGroupCurrentSelectionSumVisible"
            (change)="onColorGroupCurrentSelectionSumVisibleChange($event)"
          >
            Show Color Group Current Sum
          </mat-slide-toggle>
          <p class="settings-option-description">
            Controls whether a color group's first cell displays the sum of the
            group's currently selected cells in the upper-right corner.
          </p>
        </mat-card-content>
      </mat-card>

      <mat-card class="settings-option-card">
        <mat-card-content>
          <mat-slide-toggle
            [(ngModel)]="scratchPadVisible"
            (change)="onScratchPadVisibleChange($event)"
          >
            Show Scratch Pad
          </mat-slide-toggle>
          <p class="settings-option-description">
            Controls whether the
            <a routerLink="/documentation" fragment="scratch-pad"
              >scratch pad</a
            >
            displays next to the board. More information lives in the
            documentation.
          </p>
        </mat-card-content>
      </mat-card>

      <mat-card class="settings-option-card">
        <mat-card-content>
          <mat-slide-toggle
            [(ngModel)]="sectionCompletionAnimationEnabled"
            (change)="onSectionCompletionAnimationChange($event)"
          >
            Section Completion Animations
          </mat-slide-toggle>
          <p class="settings-option-description">
            Plays a cascading glow across rows, columns, or groups when they
            meet their target value, signalling remaining cell can be cleared.
          </p>
        </mat-card-content>
      </mat-card>

      <mat-card class="settings-option-card">
        <mat-card-content>
          <mat-slide-toggle
            [(ngModel)]="autoClearCellsEnabled"
            (change)="onAutoClearCellsChange($event)"
          >
            Auto Clear Cells
          </mat-slide-toggle>
          <p class="settings-option-description">
            Unusable cells in completed sections will be automatically cleared
            and removed.
          </p>
        </mat-card-content>
      </mat-card>
    </div>
  </section>

  <section class="settings-section">
    <mat-card>
      <mat-card-content>
        <h2>Install App</h2>
        <app-install #inst="appInstall"></app-install>
        @if (!inst.canInstall && !inst.isInstalled) {
          <p>
            Your browser does not support automatic installation here, however
            you may still be able to install it by following the
            <a routerLink="/documentation" fragment="installation"
              >installation instructions</a
            >
            for your platform.
          </p>
        }
      </mat-card-content>
    </mat-card>
  </section>

  <section class="settings-section">
    <mat-card>
      <mat-card-content>
        <h2>Clear All Saved Data</h2>
        <p>
          This will permanently delete all your saved game data, including your
          progress and statistics. This action cannot be undone.
        </p>
        <mat-form-field>
          <mat-label>Type "delete all data" to confirm</mat-label>
          <input
            matInput
            [(ngModel)]="deleteConfirmation"
            (ngModelChange)="onDeleteInputChange()"
          />
        </mat-form-field>
        <button
          matButton="outlined"
          color="warn"
          [disabled]="!canDelete"
          (click)="deleteAllData()"
        >
          Delete All Data
        </button>
      </mat-card-content>
    </mat-card>
  </section>

  @if (devModeEnabled) {}
</div>

<div class="version">v. {{ AppVersion.VERSION }}</div>
