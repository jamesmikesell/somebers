<app-title></app-title>

<div class="title">
  <h1>How to Play</h1>
</div>

<div class="page overscroll">
  <p>
    Welcome to <em>Some Numbers</em>, or as Tony calls 'em, "Somebers". Though
    that's usually only after he's had some be... Ahh, you know what?
    Fuhgeddaboudit.
  </p>
  <p>
    <em>Somebers</em> ain't just any puzzle, this one's got
    <em>some</em> numbers, ya know what I mean? Not all of 'em, not most of 'em,
    just the <em>right</em> ones. The rest? Fugazi.
  </p>
  <p>
    The board starts jam-packed with digits, but only some of them
    <s>some</s> sum up and belong in the final answer. Your job?
    <strong>Sniff out the keepers, whack the impostors</strong>.
  </p>
  <div class="callout">
    <strong>One truth, one solution.</strong> Each puzzle has exactly
    <em>one</em> valid solution. Find it by pure deduction‚Äîno guessing needed.
  </div>

  <h2>üéØ The Goal</h2>
  <ul>
    <li>
      Each <strong>row</strong> must add up to the gray number at the
      <strong>left</strong> of that row.
    </li>
    <li>
      Each <strong>column</strong> must add up to the gray number at the
      <strong>top</strong> of that column.
    </li>
    <li>
      Each <strong>color group</strong> must add up to the tiny number in that
      group's <strong>top-left cell</strong>.
    </li>
    <li>
      <strong>No mistakes!</strong> Every game can be solved with 0 mistakes, no
      guessing required.
    </li>
  </ul>
  <p class="note">
    The correct solution is the <strong>only</strong> way to satisfy
    <em>all three</em> rules at once.
  </p>

  <h2>‚úã Core Gameplay</h2>
  <ol>
    <li>
      <strong>Start state:</strong> The grid shows numbers in every cell, but
      nothing is selected/circled yet.
    </li>
    <li>
      <strong>Select required cells:</strong> <em>Tap</em> or
      <em>swipe up</em> a cell to <strong>select</strong> (circle) it ‚Äî ‚Äúthis
      number <em>is</em> part of the solution.‚Äù
    </li>
    <li>
      <strong>Hide unused cells:</strong> <em>Double-tap</em> or
      <em>swipe down</em> (or <em>right-click</em> on desktop) to
      <strong>remove</strong> a number ‚Äî ‚Äúthis number <em>is not</em> part of
      the solution.‚Äù
    </li>
    <li>
      <strong>Built-in feedback:</strong> If you try to keep a number that
      doesn't belong or remove a number that is required, the cell will shake,
      as if squirming under the pressure of being found out. The
      <strong>Mistakes</strong> counter will also increase with each mistake
      made.
    </li>
  </ol>

  <h2>üñ•Ô∏è / üëÜ Controls</h2>
  <ul>
    <li>
      <strong>Mobile / Tablet</strong>
      <ul>
        <li>Tap or Swipe up ‚Üí <strong>Select (circle)</strong> a number.</li>
        <li>Double-tap or Swipe down ‚Üí <strong>Remove</strong> a number.</li>
        <li>
          Long-press ‚Üí <strong>Magnify</strong> cell content
          <span class="note"
            >(useful for viewing small text on smaller screens).</span
          >
        </li>
        <li>
          Long-press, then slide ‚Üí <strong>Temporary highlight</strong>
          <span class="note">
            (shows a red/white diamond as a visual marker).
          </span>
          Long-press a cell until the magnified view appears, then ‚Äî without
          lifting your finger ‚Äî slide slightly left or right to toggle the
          highlight on or off.
        </li>
      </ul>
    </li>
    <li>
      <strong>Desktop</strong>
      <ul>
        <li>Click ‚Üí <strong>Select (circle)</strong></li>
        <li>Double-click or Right-click ‚Üí <strong>Remove</strong></li>
        <li>
          Click-and-hold, then drag ‚Üí <strong>Temporary highlight</strong>
          <span class="note">
            (shows a red/white diamond as a visual marker).
          </span>
          Click and hold until the magnified view appears, then ‚Äî without
          releasing the mouse ‚Äî drag slightly left or right to toggle the
          highlight on or off.
        </li>
      </ul>
    </li>
  </ul>

  <h2>üß† Tips &amp; Tricks</h2>
  <ul>
    <li>
      <strong>Easy eliminations:</strong> If a row must total <code>2</code>,
      you can immediately hide any numbers larger than <code>2</code> in that
      row.
    </li>
    <li>
      <strong>Auto-clear satisfied lines:</strong> Once you've selected every
      required cell in a row or column, double-tap that header to
      <strong>automatically hide</strong> any remaining cells in that line.
    </li>
    <li>
      <strong>Cross-check both ways:</strong> A choice must fit the row
      <em>and</em> the column. If it breaks either total, it's out.
    </li>
    <li>
      <strong>Leverage color groups:</strong> Use the group's tiny top-left
      total to lock in or eliminate cells inside that color.
    </li>
    <li>
      <strong>Use temporary highlights:</strong> (see
      <code>Controls</code> section above) The red/white diamond is a quick,
      toggleable marker to help you keep track of numbers you're actively
      considering ‚Äî especially useful during mental calculations.
    </li>
    <li>
      <a id="scratch-pad"></a>
      <strong>Take advantage of the scratch pad:</strong> It's just a handy spot
      to park a single number, just like you would with pencil and paper. Nudge
      it up or down with the buttons, and double-click the value to reset it
      back to 10 when you want to start fresh.
    </li>
    <li>
      <strong>No guessing:</strong> Logical deduction will always get you to the
      unique solution.
    </li>
    <li>
      <span>
        <code
          ><mat-icon class="icon warning-icon">report_problem</mat-icon>FP+
          #-#</code
        >
      </span>
      ‚Ä¢ This warning appears on about 3.4% of boards. It indicates that a board
      cannot be solved using only <em>first-principles</em> logic (identifying
      required and unusable cells based solely on their presence in a row,
      column, or group). The <code>#-#</code> shown in the warning represents
      how many cells <code>[can't]-[can]</code> be determined with
      first-principles alone. Beyond that point, more advanced deduction methods
      are required to solve the board.
    </li>

    <li>
      <span>
        <code><mat-icon class="icon">undo</mat-icon>Undo</code> in the
        <span>
          <code><mat-icon class="icon">more_vert</mat-icon></code>
        </span>
        menu
      </span>
      ‚Ä¢ Ah yes, the Undo button ‚Äî your safety net for when the game occasionally
      misreads a gesture (or when your finger slips because snacks are
      involved).
      <p>
        Sure, you <em>could</em> use it to quietly erase mistakes and stretch
        out that precious winning streak‚Ä¶ but let's be honest, Tony's mom would
        roll her eyes and remind you: <q>You're only cheating yourself.</q>
      </p>
      <p>
        So, use Undo when the game messes up. Abuse it, and hey ‚Äî that victory
        will taste about as authentic as a dish of
        <em>tagliatelle al tartufo</em> from a gas station.
      </p>
    </li>
  </ul>

  <h2>üåü The Big Picture</h2>
  <p>
    Think of it as Sudoku's more colorfully adorned cousin: instead of fitting
    numbers <em>into</em> cells, you're uncovering the
    <strong>truth</strong> about which existing numbers belong. Select what must
    remain, remove what cannot, and when rows, columns, and color groups all add
    up perfectly‚Äîyou win. üéâ
  </p>

  <br /><br /><br />
  <a id="installation"></a>
  <h2>üì≤ Installing (Optional)</h2>
  <p>
    <em>Somebers</em> is a Progressive Web App (PWA). You can simply use it in
    your browser, or you can optionally ‚Äúinstall‚Äù it to get a more app-like
    experience. Installation is not required ‚Äî gameplay is identical ‚Äî but
    installed PWAs:
  </p>
  <ul>
    <li>Launch faster from your home screen, Dock, or Start menu.</li>
    <li>Run in a standalone window without the browser address bar.</li>
    <li>Work offline thanks to the built-in service worker.</li>
  </ul>
  <app-install></app-install>

  <div class="callout">
    <strong>Note:</strong> Exact steps differ by platform and browser. Follow
    the instructions for your setup below.
  </div>

  <h3>iOS (iPhone / iPad)</h3>
  <p class="note">For best results on iOS, use Safari.</p>
  <ol>
    <li>
      Open <strong>Safari</strong> and navigate to
      <code>https://somebers.com</code>.
    </li>
    <li>
      Tap the <strong>Share</strong> button (you may need to click the
      <code>...</code> menu button to find the share option)
    </li>
    <li>Click the <code>... more </code> button</li>
    <li>Click <code>Add to Home Screen</code></li>
    <li>Click the <code>Add</code> button</li>
  </ol>
  <div class="ios-install-video">
    <p class="note">
      Prefer a walkthrough? Choose your device to watch an install demo with
      full controls.
    </p>
    <div class="ios-install-video__buttons">
      <button
        mat-stroked-button
        type="button"
        (click)="setIosVideo('iphone')"
        [class.active]="selectedIosVideo === 'iphone'"
      >
        <mat-icon>play_circle</mat-icon>
        Watch iPhone demo
      </button>
      <button
        mat-stroked-button
        type="button"
        (click)="setIosVideo('ipad')"
        [class.active]="selectedIosVideo === 'ipad'"
      >
        <mat-icon>play_circle</mat-icon>
        Watch iPad demo
      </button>
    </div>
    @switch (selectedIosVideo) {
      @case ("iphone") {
        <video
          controls
          playsinline
          class="ios-install-video__player"
          src="/install-iphone.mp4"
          preload="metadata"
          (loadedmetadata)="onIosVideoLoaded($event)"
        >
          Your browser does not support the installation demo video.
        </video>
      }
      @case ("ipad") {
        <video
          controls
          playsinline
          class="ios-install-video__player"
          src="/install-ipad.mp4"
          preload="metadata"
          (loadedmetadata)="onIosVideoLoaded($event)"
        >
          Your browser does not support the installation demo video.
        </video>
      }
    }
  </div>

  <h3>Android</h3>
  <ul>
    <li>
      <strong>Chrome:</strong> Visit <code>somebers.com</code> ‚Üí tap the
      <strong>‚ãÆ</strong> menu ‚Üí <strong>Install app</strong> (or
      <strong>Add to Home screen</strong>), then confirm.
    </li>
  </ul>
  <p class="note">
    If given the option, choose <strong>Install</strong> instead of ‚ÄúAdd to Home
    screen‚Äù for the best PWA experience.
  </p>
  <p class="note">
    You may also see an automatic ‚ÄúInstall‚Äù prompt banner in supported browsers.
  </p>

  <h3>macOS</h3>
  <ul>
    <li>
      <strong>Safari:</strong> Open <code>somebers.com</code> ‚Üí from the
      <strong>File</strong> menu select <strong>Add to Dock</strong> (or use the
      <strong>Share</strong> button ‚Üí <strong>Add to Dock</strong>), then choose
      to open in a separate window.
    </li>
    <li>
      <strong>Chrome:</strong> Open <code>somebers.com</code> ‚Üí click the
      <strong>Install</strong> icon in the address bar (or
      <strong>‚ãÆ</strong> menu ‚Üí <strong>Save and share</strong> ‚Üí
      <strong>Install page as app‚Ä¶</strong>), then confirm.
    </li>
  </ul>

  <h3>Windows</h3>
  <ul>
    <li>
      <strong>Chrome:</strong> Open <code>somebers.com</code> ‚Üí click the
      <strong>Install</strong> icon in the address bar (or
      <strong>‚ãÆ</strong> menu ‚Üí <strong>Install</strong>), then confirm.
    </li>
    <li>
      <strong>Edge:</strong> Open <code>somebers.com</code> ‚Üí
      <strong>‚ãÆ</strong> menu ‚Üí <strong>Apps</strong> ‚Üí
      <strong>Install this site as an app</strong>.
    </li>
  </ul>
  <p class="note">Safari is not available on Windows; use Chrome or Edge.</p>

  <p>
    After installing, launch <em>Somebers</em> from your home screen, Dock, or
    Start menu. If you prefer using your browser, that‚Äôs great too ‚Äî
    installation is completely optional.
  </p>
</div>

<div class="version">v. {{ AppVersion.VERSION }}</div>
