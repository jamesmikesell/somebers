<div class="stat-container">
  <div class="stat-item">
    <span class="stat-label">Mistakes</span>
    <span class="stat-value">{{ mistakes }}</span>
  </div>
  <div class="stat-item">
    <span class="stat-label">Streak</span>
    <div class="streak-value-wrapper">
      @if (showRedOrb) {
        <div class="red-orb"></div>
      }
      @if (isCountingDown || isSlidingUp) {
        <div
          class="stat-value streak-countdown"
          [class.slide-up]="isSlidingUp"
          [class]="streakAnimationClass"
        >
          @for (digit of previousStreakDigits; track $index) {
            <div class="digit-roller">
              <div
                class="digit-roller-inner"
                style="--from-digit: {{ digit }};"
              >
                <span>9</span><span>8</span><span>7</span><span>6</span
                ><span>5</span><span>4</span><span>3</span><span>2</span
                ><span>1</span><span>0</span>
              </div>
            </div>
          }
        </div>
      } @else {
        <span class="stat-value" [class]="streakAnimationClass">
          {{ streak }}
        </span>
      }
      @for (tear of tears; track $index) {
        <div
          class="tear"
          [style.left]="tear.left"
          [style.animation-delay]="tear.animationDelay"
        ></div>
      }
    </div>
  </div>
  @if (accuracy !== null && accuracyHistory > 1) {
    <div class="stat-item">
      <span class="stat-label">
        Last {{ accuracyHistory | number: "1.0-0" }} Moves
      </span>
      <span class="stat-value">{{ accuracy | number: "1.1-1" }}%</span>
    </div>
  }
</div>
