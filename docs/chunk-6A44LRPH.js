import{a as k}from"./chunk-GQJTQQUX.js";import{B as E,I as S,n as h,q as w,s as P,z as O}from"./chunk-FXPBCG6U.js";import{$a as l,Ab as p,Ea as b,Sc as C,Va as s,Vc as v,Wa as r,Wc as M,Xc as y,_a as I,aa as u,ab as n,ba as x,gb as g,ib as _,kb as m,ua as o,ya as f,zb as e}from"./chunk-DUPXJZ6A.js";import{c as d}from"./chunk-AH3KB6OD.js";function D(a,t){a&1&&(l(0,"p",4),e(1,"Install was dismissed. You can try again."),n())}function $(a,t){if(a&1&&(l(0,"p",4),e(1),n()),a&2){let i=m(2);o(),p(i.installError)}}function B(a,t){if(a&1){let i=g();l(0,"div",0)(1,"div",2)(2,"mat-icon",3),e(3,"get_app"),n(),l(4,"span"),e(5,"Quick Install"),n()(),l(6,"p")(7,"strong"),e(8,"Install with one click:"),n(),e(9," Your browser supports installing this app easily. Use the button below to install "),l(10,"em"),e(11,"Somebers"),n(),e(12,". "),n(),l(13,"p",4),e(14,"After clicking, installation may take a minute to complete."),n(),l(15,"button",5),_("click",function(){u(i);let A=m();return x(A.installPWA())}),l(16,"mat-icon",3),e(17,"get_app"),n(),l(18,"span"),e(19),n()(),s(20,D,2,0,"p",4),s(21,$,2,1,"p",4),n()}if(a&2){let i=m();o(15),I("disabled",i.installInProgress),o(4),p(i.installInProgress?"Installing\u2026":"Install Somebers"),o(),r(i.installOutcome==="dismissed"?20:-1),o(),r(i.installError?21:-1)}}function F(a,t){a&1&&(l(0,"div",1)(1,"strong"),e(2,"Already installed:"),n(),e(3," You\u2019re running the installed app. "),n())}var T=class a{constructor(t){this.pwa=t}canInstall=!1;installInProgress=!1;installError=null;installOutcome=null;isInstalled=!1;subs=[];ngOnInit(){this.subs.push(this.pwa.canInstall$.subscribe(t=>this.canInstall=t),this.pwa.installInProgress$.subscribe(t=>this.installInProgress=t),this.pwa.installError$.subscribe(t=>this.installError=t),this.pwa.installOutcome$.subscribe(t=>this.installOutcome=t),this.pwa.isInstalled$.subscribe(t=>this.isInstalled=t))}ngOnDestroy(){try{this.subs.forEach(t=>t.unsubscribe())}catch(t){console.error("install: cleanup failed",t)}}installPWA(){return d(this,null,function*(){yield this.pwa.promptInstall()})}static \u0275fac=function(i){return new(i||a)(f(k))};static \u0275cmp=b({type:a,selectors:[["app-install"]],exportAs:["appInstall"],decls:2,vars:2,consts:[[1,"callout","install-callout"],[1,"callout"],[1,"install-header"],["aria-hidden","true"],[1,"note"],["matButton","outlined","color","primary",3,"click","disabled"]],template:function(i,c){i&1&&(s(0,B,22,4,"div",0),s(1,F,4,0,"div",1)),i&2&&(r(!c.isInstalled&&c.canInstall?0:-1),o(),r(c.isInstalled?1:-1))},dependencies:[h,w,P,y,M,v,C,O,E,S],styles:[".note[_ngcontent-%COMP%]{color:var(--mat-sys-on-surface-variant)}.callout[_ngcontent-%COMP%]{border:1px solid var(--mat-sys-outline-variant);background:color-mix(in oklab,var(--mat-sys-primary) 10%,var(--mat-sys-surface));border-radius:12px;padding:12px 14px;margin:.75rem 0}.install-callout[_ngcontent-%COMP%]{border-width:2px;border-color:var(--mat-sys-primary);background:color-mix(in oklab,var(--mat-sys-primary) 24%,var(--mat-sys-surface));box-shadow:0 8px 20px color-mix(in oklab,var(--mat-sys-primary) 26%,transparent);padding:14px 16px;border-left-width:6px;border-left-color:var(--mat-sys-primary)}.install-callout[_ngcontent-%COMP%]   .install-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;margin-bottom:6px}.install-callout[_ngcontent-%COMP%]   .install-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;inline-size:22px;block-size:22px}.install-callout[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{margin-top:8px}"]})};export{T as a};
